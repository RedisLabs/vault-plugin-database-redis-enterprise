---
version: 1
interactions:
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/cluster
    method: GET
  response:
    body: |
      {"alert_settings":{"node_checks_error":true,"node_ephemeral_storage":{"enabled":true,"threshold":"70"},"node_free_flash":{"enabled":true,"threshold":"70"},"node_persistent_storage":{"enabled":true,"threshold":"70"}},"block_cluster_changes":false,"cipher_suites":"HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH","cluster_ssh_public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDNLTWUWrQMFBbKIYj3+mH3RL8Cn3g+GjJAGUaFHQw+RJ5SC2FIAHqclt6TGjjnD/AOtyL2Dv7GmhuyFYeK+ucQLV9K9W7DzOtEoZcDYxNiWjNyqReBuActCB6HtgAKelAM6w7nV2bhjyaIMJ4TavLGyi762BzwdpNP5dAbU7PFWTV0bKjkVFPe02zcyJJtCd8ghJpfCKf8kVXFUa5kUZ3d5p4cyHwEeSc7SytOxU98XEjwEu9/T84XerQLtfqxS9L6e8I2N4QoLT6210IAZR/68lnhrxpkAz2MjQoiPl/Qrf5qmV788EXKK0FMHhzkG5bCfkdvE/auDfnm2k/ecB1H","cm_port":8443,"cm_session_timeout_minutes":15,"cnm_http_port":8080,"cnm_https_port":9443,"cnm_proxy":"envoy","control_cipher_suites":"DEFAULT","created_time":"2021-02-05T14:15:40Z","debuginfo_path":"/tmp","email_alerts":false,"encrypted_mesh":false,"handle_redirects":false,"http_support":true,"min_control_TLS_version":"1","name":"host.docker.internal","password_complexity":false,"password_expiration_duration":0,"proxy_certificate":"-----BEGIN CERTIFICATE-----\nMIIDiDCCAnCgAwIBAgIUYUVa9EOYOnfqk+rjCUDHZ2NO96wwDQYJKoZIhvcNAQEL\nBQAwUDEVMBMGA1UEAwwMNTM2ODlkMjE0ZmU2MRAwDgYDVQQLDAdyZWRpc2RiMSUw\nIwYDVQQKDBxSZWRpc0xhYnMgRW50ZXJwcmlzZSBDbHVzdGVyMB4XDTIxMDIwNTE0\nMTU0MVoXDTIyMDIwNTE0MTU0MVowUDEVMBMGA1UEAwwMNTM2ODlkMjE0ZmU2MRAw\nDgYDVQQLDAdyZWRpc2RiMSUwIwYDVQQKDBxSZWRpc0xhYnMgRW50ZXJwcmlzZSBD\nbHVzdGVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0k+uphLgIhMR\n1BKBfmFX1yK1QtkAmXDh8Ah2PxRYAWSPmgzlUpXgH6yL+Uh1QSAecQ9ZbWzHW/zM\nRx4Qu1a3R5xHasoGQtNfFiD3TTClxpsjo9ZW+utwVT8+hQ9AHUP1t7J/B2lcehEr\nAd5WkF1K5j5hbOVsulaN+k/RxkjwU+xwKjpZggvCvmZP5x99VHjLEWCGu48o1z83\n5LgQWh4KVZdbGDtgzyzHfY4exX7VR/GXH1MXn0aCPxak5aifhmMuw2J2M7jPKzd3\n0mH4cQba4WFUVJ/27Dh5Ecw43JXCZ2Z+nTzYoJLjsrTSKqCGP+0Iiy5zLThCMl9n\njxQbdjONwQIDAQABo1owWDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nNwYDVR0RBDAwLoIUaG9zdC5kb2NrZXIuaW50ZXJuYWyCFiouaG9zdC5kb2NrZXIu\naW50ZXJuYWwwDQYJKoZIhvcNAQELBQADggEBAI7hu3jdEG0eBB1cf+nO9vLX/ij2\nXLZP/0XCQXPHovJPN9FnAmMc8GyIeZ8Fx+O2nI39SVcjwHgxAc9OJpM6ZGa0cSxb\nRJVe5ZaGvQbFiElU0kpTpOOxE3/AnWR+p9qAVfuWRQ2xGDcjh3OFK5uxoEp7i4jA\nHNXltJu9zZNtTv48pclfjDB+KKnD0EpR1M+wGUuQ1WItOePNN7mbQVqOxilxCupA\nHhJ7pqUtYoxiAL+s0W8vGmyNcZjbaT6eXOD27Zyq5hfKuSV1AoS9IU+/fAiJw87P\nahQqCb9Wu3lRVPlLvkbSF9euGqWXrnGIM9eAePSCIxttWE65t2H682/6s+c=\n-----END CERTIFICATE-----\n","rack_aware":false,"s3_certificate_verification":true,"slave_ha":true,"slave_ha_bdb_cooldown_period":7200,"slave_ha_cooldown_period":3600,"slave_ha_grace_period":600,"slowlog_in_sanitized_support":true,"smtp_tls_mode":"none","smtp_use_tls":false,"syncer_certificate":"-----BEGIN CERTIFICATE-----\nMIIDhjCCAm6gAwIBAgIUeM24ylMbEfj6WQCp4Wh0o6CFZ5IwDQYJKoZIhvcNAQEL\nBQAwTzEVMBMGA1UEAwwMNTM2ODlkMjE0ZmU2MQ8wDQYDVQQLDAZzeW5jZXIxJTAj\nBgNVBAoMHFJlZGlzTGFicyBFbnRlcnByaXNlIENsdXN0ZXIwHhcNMjEwMjA1MTQx\nNTQxWhcNMjIwMjA1MTQxNTQxWjBPMRUwEwYDVQQDDAw1MzY4OWQyMTRmZTYxDzAN\nBgNVBAsMBnN5bmNlcjElMCMGA1UECgwcUmVkaXNMYWJzIEVudGVycHJpc2UgQ2x1\nc3RlcjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM0Nnf3zZP4+776S\nqNpSj2uOtAM7rXqeLZTg3T+EudyQa/0BVwZo29lLBhpAAKNZfcb3aUOha0CdxmnA\nI1Aw/NJYLHx2P7O/ehLwttzJDeZf9GK3LVydhEsRQK72ZG2PsAv9oMgv0LiCast1\nPwbODrn4dH4Rbm6E+1NdNRUPXFlmSiKSqCnS1EwtXrq8sFpbI2Dpazog2J73BoyF\n+A3PhigD3lf7N8B/+nTip05hbcn0WI+l9ZY+zJiSCiAaQlQoJYCrq9MigR5sIk0A\n89YSNMgYB5HKQsAw40rm45BFCK2AA7w4FMrckbAmno8dMUnEcW3ojnxIQHqDY49B\nYTWzPYMCAwEAAaNaMFgwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMDcG\nA1UdEQQwMC6CFGhvc3QuZG9ja2VyLmludGVybmFsghYqLmhvc3QuZG9ja2VyLmlu\ndGVybmFsMA0GCSqGSIb3DQEBCwUAA4IBAQB46qsfb39tkIlS5tB6qcx5c6xKXpCK\nYF/EtA/Hz3DuUjknATZdTsuRHDd17dRtJuIzLq0+ikbkoiui/lqoUxaF33NtXAN1\nMQI2a06x8Ej+PgFRcP3sW+40PUF8kT6LMSaFUFQaZjLQW3U3AWFSs9FYsPCuSC7c\ne67PGSE/XV3IcR2Iqkq6iTQ4+HnQOrM8EaGEzq51mDIikQYwh3bMDPeriqpveXwj\npErnjbR0vKTnOjo7pRgHYsXGTWQ7ypwxqFQMNrGmuwAzDkZtokyoVkcmJGsthFO0\nsj4byi1QflOrVq9Nqs08axRMeyBC1+lqFJ9UBbZvLD+zPbq8eKIAjJ7h\n-----END CERTIFICATE-----\n","upgrade_mode":false,"use_ipv6":true,"wait_command":true}
    headers:
      Cluster-State-Id:
      - "883"
      Content-Length:
      - "4101"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/bdbs
    method: GET
  response:
    body: |-
      [
        {
          "gradual_src_mode":"disabled",
          "group_uid":0,
          "memory_size":104857600,
          "last_changed_time":"2021-02-08T10:40:10Z",
          "created_time":"2021-02-05T14:15:47Z",
          "skip_import_analyze":"disabled",
          "rack_aware":false,
          "redis_version":"6.0",
          "oss_sharding":false,
          "shard_list":[
            1
          ],
          "authentication_ssl_client_certs":[

          ],
          "backup_progress":0.0,
          "import_status":"",
          "hash_slots_policy":"16k",
          "dataset_import_sources":[

          ],
          "replication":false,
          "crdt_sync_dist":false,
          "authentication_admin_pass":"hhO2BVQQ5Azdkg79qsVVOAqMIg5wjoSv8wR4l0UKfC33mOPT",
          "default_user":true,
          "name":"mydb",
          "crdt_causal_consistency":false,
          "authentication_sasl_pass":"",
          "import_failure_reason":"",
          "syncer_mode":"centralized",
          "oss_cluster":false,
          "sync":"disabled",
          "background_op":[
            {
              "status":"idle"
            }
          ],
          "authentication_ssl_crdt_certs":[

          ],
          "port":12000,
          "crdt_guid":"",
          "crdt_syncer_auto_oom_unlatch":false,
          "version":"6.0.6",
          "email_alerts":false,
          "roles_permissions":[
            {
              "redis_acl_uid":3,
              "role_uid":4
            }
          ],
          "crdt_sources":[

          ],
          "auto_upgrade":false,
          "backup_interval":86400,
          "max_aof_load_time":3600,
          "shards_placement":"dense",
          "data_persistence":"disabled",
          "crdt_sync":"disabled",
          "dns_suffixes":[

          ],
          "backup_status":"",
          "crdt":false,
          "crdt_replicas":"",
          "snapshot_policy":[

          ],
          "backup":false,
          "gradual_sync_max_shards_per_source":1,
          "authorized_names":[

          ],
          "backup_interval_offset":0,
          "tls_mode":"disabled",
          "replica_sync":"disabled",
          "authentication_redis_pass":"xyzzyxyzzy",
          "implicit_shard_key":false,
          "max_aof_file_size":322122547200,
          "bigstore":false,
          "max_connections":0,
          "module_list":[

          ],
          "slave_ha_priority":0,
          "eviction_policy":"volatile-lru",
          "type":"redis",
          "backup_history":0,
          "sync_sources":[

          ],
          "crdt_ghost_replica_ids":"",
          "replica_sources":[

          ],
          "metrics_export_all":false,
          "shard_block_foreign_keys":true,
          "generate_text_monitor":false,
          "crdt_replica_id":0,
          "crdt_config_version":0,
          "proxy_policy":"single",
          "aof_policy":"appendfsync-every-sec",
          "endpoints":[
            {
              "oss_cluster_api_preferred_ip_type":"internal",
              "uid":"1:1",
              "dns_name":"redis-12000.host.docker.internal",
              "addr_type":"external",
              "proxy_policy":"single",
              "port":12000,
              "addr":[
                "172.19.0.3"
              ]
            }
          ],
          "wait_command":true,
          "uid":1,
          "authentication_sasl_uname":"",
          "backup_failure_reason":"",
          "bigstore_ram_size":0,
          "shard_block_crossslot_keys":false,
          "acl":[

          ],
          "slave_ha":false,
          "internal":false,
          "shards_count":1,
          "shard_key_regex":[

          ],
          "status":"active",
          "gradual_sync_mode":"auto",
          "mkms":true,
          "gradual_src_max_sources":1,
          "sharding":false,
          "oss_cluster_api_preferred_ip_type":"internal",
          "ssl":false,
          "replica_sync_dist":false,
          "dns_address_master":"",
          "import_progress":0.0
        }
      ]
    headers:
      Cluster-State-Id:
      - "883"
      Content-Length:
      - "3239"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "11"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/roles
    method: GET
  response:
    body: |-
      [
        {
          "management":"admin",
          "uid":1,
          "name":"Admin"
        },
        {
          "management":"cluster_viewer",
          "uid":3,
          "name":"Cluster Viewer"
        },
        {
          "management":"cluster_member",
          "uid":2,
          "name":"Cluster Member"
        },
        {
          "management":"db_viewer",
          "uid":5,
          "name":"DB Viewer"
        },
        {
          "management":"db_member",
          "uid":4,
          "name":"DB Member"
        },
        {
          "management":"none",
          "uid":6,
          "name":"None"
        }
      ]
    headers:
      Cluster-State-Id:
      - "883"
      Content-Length:
      - "454"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "8"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/bdbs
    method: GET
  response:
    body: |-
      [
        {
          "gradual_src_mode":"disabled",
          "group_uid":0,
          "memory_size":104857600,
          "last_changed_time":"2021-02-08T10:40:10Z",
          "created_time":"2021-02-05T14:15:47Z",
          "skip_import_analyze":"disabled",
          "rack_aware":false,
          "redis_version":"6.0",
          "oss_sharding":false,
          "shard_list":[
            1
          ],
          "authentication_ssl_client_certs":[

          ],
          "backup_progress":0.0,
          "import_status":"",
          "hash_slots_policy":"16k",
          "dataset_import_sources":[

          ],
          "replication":false,
          "crdt_sync_dist":false,
          "authentication_admin_pass":"hhO2BVQQ5Azdkg79qsVVOAqMIg5wjoSv8wR4l0UKfC33mOPT",
          "default_user":true,
          "name":"mydb",
          "crdt_causal_consistency":false,
          "authentication_sasl_pass":"",
          "import_failure_reason":"",
          "syncer_mode":"centralized",
          "oss_cluster":false,
          "sync":"disabled",
          "background_op":[
            {
              "status":"idle"
            }
          ],
          "authentication_ssl_crdt_certs":[

          ],
          "port":12000,
          "crdt_guid":"",
          "crdt_syncer_auto_oom_unlatch":false,
          "version":"6.0.6",
          "email_alerts":false,
          "roles_permissions":[
            {
              "redis_acl_uid":3,
              "role_uid":4
            }
          ],
          "crdt_sources":[

          ],
          "auto_upgrade":false,
          "backup_interval":86400,
          "max_aof_load_time":3600,
          "shards_placement":"dense",
          "data_persistence":"disabled",
          "crdt_sync":"disabled",
          "dns_suffixes":[

          ],
          "backup_status":"",
          "crdt":false,
          "crdt_replicas":"",
          "snapshot_policy":[

          ],
          "backup":false,
          "gradual_sync_max_shards_per_source":1,
          "authorized_names":[

          ],
          "backup_interval_offset":0,
          "tls_mode":"disabled",
          "replica_sync":"disabled",
          "authentication_redis_pass":"xyzzyxyzzy",
          "implicit_shard_key":false,
          "max_aof_file_size":322122547200,
          "bigstore":false,
          "max_connections":0,
          "module_list":[

          ],
          "slave_ha_priority":0,
          "eviction_policy":"volatile-lru",
          "type":"redis",
          "backup_history":0,
          "sync_sources":[

          ],
          "crdt_ghost_replica_ids":"",
          "replica_sources":[

          ],
          "metrics_export_all":false,
          "shard_block_foreign_keys":true,
          "generate_text_monitor":false,
          "crdt_replica_id":0,
          "crdt_config_version":0,
          "proxy_policy":"single",
          "aof_policy":"appendfsync-every-sec",
          "endpoints":[
            {
              "oss_cluster_api_preferred_ip_type":"internal",
              "uid":"1:1",
              "dns_name":"redis-12000.host.docker.internal",
              "addr_type":"external",
              "proxy_policy":"single",
              "port":12000,
              "addr":[
                "172.19.0.3"
              ]
            }
          ],
          "wait_command":true,
          "uid":1,
          "authentication_sasl_uname":"",
          "backup_failure_reason":"",
          "bigstore_ram_size":0,
          "shard_block_crossslot_keys":false,
          "acl":[

          ],
          "slave_ha":false,
          "internal":false,
          "shards_count":1,
          "shard_key_regex":[

          ],
          "status":"active",
          "gradual_sync_mode":"auto",
          "mkms":true,
          "gradual_src_max_sources":1,
          "sharding":false,
          "oss_cluster_api_preferred_ip_type":"internal",
          "ssl":false,
          "replica_sync_dist":false,
          "dns_address_master":"",
          "import_progress":0.0
        }
      ]
    headers:
      Cluster-State-Id:
      - "883"
      Content-Length:
      - "3239"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "14"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"name":"tester_new_with_dbtest","password":"testing","role_uids":[4],"email_alerts":false,"auth_method":"regular"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json;charset=utf-8
    url: https://127.0.0.1:9443/v1/users
    method: POST
  response:
    body: |
      {"action_uid":"299219cf-5875-4175-b236-3eb33d45fcfe","auth_method":"regular","email":"","email_alerts":false,"name":"tester_new_with_dbtest","password_issue_date":"2021-02-08T12:03:38Z","role":"db_member","role_uids":[4],"uid":110}
    headers:
      Cluster-State-Id:
      - "884"
      Content-Length:
      - "232"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "27"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/users
    method: GET
  response:
    body: |-
      [
        {
          "uid":1,
          "password_issue_date":"2021-02-05T14:15:40Z",
          "email":"admin",
          "role":"admin",
          "email_alerts":true,
          "role_uids":[
            1
          ],
          "auth_method":"regular",
          "name":"Administrator"
        },
        {
          "uid":110,
          "password_issue_date":"2021-02-08T12:03:38Z",
          "email":"",
          "role":"db_member",
          "email_alerts":false,
          "role_uids":[
            4
          ],
          "auth_method":"regular",
          "name":"tester_new_with_dbtest"
        }
      ]
    headers:
      Cluster-State-Id:
      - "884"
      Content-Length:
      - "467"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "12"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/users
    method: GET
  response:
    body: |-
      [
        {
          "uid":1,
          "password_issue_date":"2021-02-05T14:15:40Z",
          "email":"admin",
          "role":"admin",
          "email_alerts":true,
          "role_uids":[
            1
          ],
          "auth_method":"regular",
          "name":"Administrator"
        },
        {
          "uid":110,
          "password_issue_date":"2021-02-08T12:03:38Z",
          "email":"",
          "role":"db_member",
          "email_alerts":false,
          "role_uids":[
            4
          ],
          "auth_method":"regular",
          "name":"tester_new_with_dbtest"
        }
      ]
    headers:
      Cluster-State-Id:
      - "884"
      Content-Length:
      - "467"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/users/110
    method: DELETE
  response:
    body: |
      {"action_uid":"1c2724a7-957a-4ad1-9420-18ad19f416bb"}
    headers:
      Cluster-State-Id:
      - "885"
      Content-Length:
      - "54"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "20"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Type:
      - application/json;charset=utf-8
    url: https://127.0.0.1:9443//v1/roles
    method: GET
  response:
    body: |-
      [
        {
          "management":"admin",
          "uid":1,
          "name":"Admin"
        },
        {
          "management":"cluster_viewer",
          "uid":3,
          "name":"Cluster Viewer"
        },
        {
          "management":"cluster_member",
          "uid":2,
          "name":"Cluster Member"
        },
        {
          "management":"db_viewer",
          "uid":5,
          "name":"DB Viewer"
        },
        {
          "management":"db_member",
          "uid":4,
          "name":"DB Member"
        },
        {
          "management":"none",
          "uid":6,
          "name":"None"
        }
      ]
    headers:
      Cluster-State-Id:
      - "885"
      Content-Length:
      - "454"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "11"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
    url: https://127.0.0.1:9443/v1/users
    method: GET
  response:
    body: |-
      [
        {
          "uid":1,
          "password_issue_date":"2021-02-05T14:15:40Z",
          "email":"admin",
          "role":"admin",
          "email_alerts":true,
          "role_uids":[
            1
          ],
          "auth_method":"regular",
          "name":"Administrator"
        }
      ]
    headers:
      Cluster-State-Id:
      - "885"
      Content-Length:
      - "229"
      Content-Type:
      - application/json
      Date:
      - Mon, 08 Feb 2021 12:03:38 GMT
      Server:
      - envoy
      X-Envoy-Upstream-Service-Time:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
